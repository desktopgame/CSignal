require "beacon/lang/Iterator"
require "beacon/lang/Array"

namespace beacon::lang {
	class ArrayIterator[T] : Iterator[T] {
		private:
		Array[T] source;
		Int offset;

		public:
		def new(Array[T] source) {
			this.source = source;
			this.offset = -1;
		}

		def moveNext() -> Bool {
			this.offset += 1;
			if(offset >= source.length()) {
				return false;
			}
			return true;
		}

		def current() -> T {
			return source.get(offset);
		}
	}
}