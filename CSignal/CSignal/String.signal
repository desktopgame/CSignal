import "Array"

namespace signal.lang {
	class String {
		private:
		Array charArray;

		public:
		ctor new(Array source) {
			this.charArray = new Array(source.length());
			Array.copy(source, 0, this.charArray, 0, source.length());
			this.nativeInit();
		}

		def charAt(Int index) -> Char {
			return this.charArray.get(index) as Char;
		}

		def substr(Int offs, Int len) -> String {
			return new String(this.charArray.sub(offs, len));
		}
		private:
		native def nativeInit() -> Void;
	}
}