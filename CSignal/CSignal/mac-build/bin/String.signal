import "Array"

namespace signal.lang {
	class String {
		private:
		Array<Char> charArray;

		public:
		ctor new(Array<Char> source) {
			this.charArray = new Array<Char>(source.length());
			Array.copy(source, 0, this.charArray, 0, source.length());
			this.nativeInit();
		}

		def charAt(Int index) -> Char {
			return this.charArray.get(index) as Char;
		}

		def substr(Int offs, Int len) -> String {
			return new String(this.charArray.sub(offs, len));
		}

		def length() -> Int {
			return this.charArray.length()
		}
		private:
		native def nativeInit() -> Void;
	}
}