# load_flow
クラスローダの読み込み順序や実装について

## 簡易図
parse -> ilload -> bcload

## parse
このフェーズでは **bison** を用いて、  
プログラムを **ast** へ変換します。  
この時点では構文的な正しさだけがエラーとして報告されます。  
ただし、コンフリクトを起こさずに構文を許容するために  
意味的に正しくない一部の構文もここではとりあえず許容されます。  
例えば、フィールドに対する関数呼び出し演算子とメソッド呼び出しをこの時点で見分けることは出来ません。

## ilload
**ast** を **il** というものへ変換します。  
次のことを実行します。
- 再帰で定義される繰り返しをリストへ展開する。
- より抽象的で意味ごとに分けられた構造体へ変換する。

## bcload
名前空間,クラス階層を 1:1 でマッピングします。  
ジェネリックな型もここで実体化されます。  
また、とりあえず許容された構文の正しさをここで検証します。
